<!DOCTYPE html>
<html>
    <head>
        <title> 71_1 </title>
        <meta charset="utf-8">
        
    </head>
    <body>

        <section id="data"></section>

        <script>
            const Table = ( _=> {

                // static private
                const Private = Symbol();

                return class{
                    /*
                        constructor                        
                        public methods
                        private methods                        
                    */
                    constructor(parent){
                        /* Hika Maeng : 여러분 코드 습관을 들이실 때 무조건 validation이 있고
                                        기본적으로 개발을 할 때 throw를 해야겠다라고 생각하세요
                                        ...
                                        ...
                                        그래서 throw는 런타임 언어에서 기본적인 안전장치

                                        https://youtu.be/ymG40FJe2cM?t=12m10s
                        */
                        if(typeof parent != 'string' || !parent) throw 'invalid param';
                        
                        this[Private] = { parent };

                        console.log('constructor', parent);

                    }

                    load(dataUrl){

                        /* fatch
                        
                            https://developers.google.com/web/updates/2015/03/introduction-to-fetch
                            https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch
                        */
                        fetch(dataUrl)
                            .then( resp =>{
                                
                                return resp.json();

                            }).then( json => {
                                
                                console.log('json object', json);

                                this._render();

                            });

                        console.log('load', dataUrl);

                    }
                    
                    _render(){ // private method
                        console.log('table render');

                    }

                };
            
            })();


            const table = new Table('#data');
            table.load('model/71_1.json');

        </script>
    </body>
</html>